--// Tạo GUI
local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local VirtualInputManager = game:GetService("VirtualInputManager")

local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

local screenGui = Instance.new("ScreenGui")
screenGui.Name = "AutoPressGui"
screenGui.Parent = playerGui

local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 220, 0, 310) -- tăng chiều cao để thêm dòng tác giả
frame.Position = UDim2.new(0, 50, 0, 50)
frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
frame.BorderSizePixel = 0
frame.Parent = screenGui

local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, 0, 0, 30)
title.BackgroundTransparency = 1
title.Text = "Auto Key Presser"
title.TextColor3 = Color3.fromRGB(255, 255, 255)
title.Font = Enum.Font.SourceSansBold
title.TextSize = 22
title.Parent = frame

-- Dòng chữ tác giả
local authorLabel = Instance.new("TextLabel")
authorLabel.Size = UDim2.new(1, 0, 0, 20)
authorLabel.Position = UDim2.new(0, 0, 1, -25) -- nằm dưới cùng của frame
authorLabel.BackgroundTransparency = 1
authorLabel.Text = "Tác giả: NTBA"
authorLabel.TextColor3 = Color3.fromRGB(150, 150, 150)
authorLabel.Font = Enum.Font.SourceSansItalic
authorLabel.TextSize = 16
authorLabel.Parent = frame

local keys = {"Z", "X", "C", "V", "R"}
local toggles = {}

local function autoPressKey(key)
    while toggles[key] do
        VirtualInputManager:SendKeyEvent(true, key, false, game)
        wait(0.1)
        VirtualInputManager:SendKeyEvent(false, key, false, game)
        wait(0.5)
    end
end

for i, key in ipairs(keys) do
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(1, -20, 0, 40)
    btn.Position = UDim2.new(0, 10, 0, 40 * i + 10)
    btn.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
    btn.BorderSizePixel = 0
    btn.TextColor3 = Color3.fromRGB(255, 255, 255)
    btn.Font = Enum.Font.SourceSans
    btn.TextSize = 20
    btn.Text = key .. ": OFF"
    btn.Parent = frame

    toggles[key] = false

    btn.MouseButton1Click:Connect(function()
        toggles[key] = not toggles[key]
        if toggles[key] then
            btn.Text = key .. ": ON"
            spawn(function() autoPressKey(key) end)
        else
            btn.Text = key .. ": OFF"
        end
    end)
end

-- Bật/tắt hiện GUI bằng phím RightControl
UserInputService.InputBegan:Connect(function(input, gameProcessed)
    if gameProcessed then return end
    if input.KeyCode == Enum.KeyCode.RightControl then
        frame.Visible = not frame.Visible
    end
end)
