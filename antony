-- Lua Executor: F-Thread / Fluxus / Krnl (tested on Roblox PC)

-- ================================================================= --
--                             CORE SETUP                              --
-- ================================================================= --

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local VirtualInputManager = game:GetService("VirtualInputManager")

local Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
local hrp = Character:WaitForChild("HumanoidRootPart")
local Backpack = LocalPlayer:WaitForChild("Backpack")

-- Trạng thái Global
local AutoCollectChestState = false
local AutoDropItem = false
local AutoDropItemPlus = false
local CollectChestRadius = 250 

-- Trạng thái Combat & Skill
local AutoFarmNPC = false
local AutoSkillState={Z=false,X=false,C=false,V=false}
local AutoHakiState=false
local GodModeState = false 
local FarmRadius = 150 

-- Tên Object trong Game (ĐÃ CẬP NHẬT CHÍNH XÁC V21.5)
local CHEST_PARENT_NAME = "Barrels" -- Folder/Model cha của hòm (con của workspace)
local CHEST_MODEL_NAME = "Crate"    -- Part chứa ClickDetector

-- Tên Remote Events (Giả định, cần check lại tên chính xác trong game)
local RemoteEvents = {}
pcall(function()
    RemoteEvents.Drop = ReplicatedStorage:FindFirstChild("RemoteEvents") and ReplicatedStorage.RemoteEvents:FindFirstChild("DropItem")
end)

-- Hotkey để ẩn/hiện Hub
local Hotkey = Enum.KeyCode.RightControl
local HubVisible = true

-- DANH SÁCH DROP ITEMS (GIẢ ĐỊNH)
local ITEM_DROP_LIST = {
    ["Apple"] = true, ["Cantaloup"] = true, ["Cantaloupe"] = true, 
    ["Banana"] = true, ["Green Apple"] = true, ["Coconut"] = true,
    ["Pumpkin"] = true, ["Prickly Pear"] = true, ["Melon"] = true,
}
local ITEM_DROP_PLUS_LIST = {
    ["Cider+"] = true, ["Lemonade+"] = true, ["Juice+"] = true, ["Smoothie+"] = true,
}


-- ================================================================= --
--                            TÍNH NĂNG CHÍNH                           --
-- ================================================================= --

-- TỰ ĐỘNG CẬP NHẬT NHÂN VẬT
LocalPlayer.CharacterAdded:Connect(function(newCharacter)
    Character = newCharacter
    hrp = Character:WaitForChild("HumanoidRootPart")
end)

-- VÒNG LẶP AUTO SKILLS
task.spawn(function()
    while true do
        task.wait(0.5) 
        for key,enabled in pairs(AutoSkillState) do
            if enabled and not AutoFarmNPC then 
                pcall(function()
                    VirtualInputManager:SendKeyEvent(true,key,false,game)
                    task.wait(0.04)
                    VirtualInputManager:SendKeyEvent(false,key,false,game)
                end)
            end
        end
    end
end)

-- VÒNG LẶP AUTO HAKI
task.spawn(function()
    while true do
        if AutoHakiState and LocalPlayer.Character then
            pcall(function() VirtualInputManager:SendKeyEvent(true,"R",false,game) end)
            task.wait(6.0) 
            pcall(function() VirtualInputManager:SendKeyEvent(false,"R",false,game) end)
            task.wait(1.0) 
        else
            task.wait(0.5) 
        end
    end
end)

-- VÒNG LẶP GOD MODE
task.spawn(function()
    while task.wait(0.01) do
        if GodModeState and LocalPlayer.Character then
            local human = LocalPlayer.Character:FindFirstChildOfClass("Humanoid")
            if human and human.Health > 0 and human.MaxHealth > 0 then
                human.Health = human.MaxHealth
            end
        end
    end
end)

-- VÒNG LẶP AUTO DROP ITEMS
task.spawn(function()
    local dropItemFunc = RemoteEvents.Drop
    while task.wait(0.5) do 
        if not dropItemFunc then 
            pcall(function() RemoteEvents.Drop = ReplicatedStorage:FindFirstChild("RemoteEvents") and ReplicatedStorage.RemoteEvents:FindFirstChild("DropItem") end)
            dropItemFunc = RemoteEvents.Drop
            if not dropItemFunc then continue end
        end
        if not AutoDropItem and not AutoDropItemPlus then continue end
        
        local itemsToDrop = {}

        -- Lọc danh sách item cần drop
        local checkList = {}
        if AutoDropItem then for k,v in pairs(ITEM_DROP_LIST) do checkList[k]=v end end
        if AutoDropItemPlus then for k,v in pairs(ITEM_DROP_PLUS_LIST) do checkList[k]=v end end

        for _, item in ipairs(Backpack:GetChildren()) do
            if (item:IsA("Tool") or item:IsA("HopperBin")) and checkList[item.Name] then 
                table.insert(itemsToDrop, item.Name)
            end
        end

        for _, itemName in ipairs(itemsToDrop) do
            pcall(function() dropItemFunc:FireServer(itemName) end)
            task.wait(0.2) 
        end
    end
end)

-- VÒNG LẶP AUTO COLLECT CHEST (FRUIT MIX) - Logic chính
task.spawn(function()
    while task.wait(0.2) do
        if not AutoCollectChestState or not hrp then continue end

        local targetPart = nil
        local shortestDistance = CollectChestRadius + 1

        -- BƯỚC 1: Tìm Folder/Model CHỨA tất cả các hòm ("Barrels")
        local parentContainer = workspace:FindFirstChild(CHEST_PARENT_NAME)

        if parentContainer then
            -- BƯỚC 2: Quét tất cả con cháu (chứa Crates, Crate, ClickDetector) bên trong Barrels
            for _, model in ipairs(parentContainer:GetDescendants()) do
                if model.Name == CHEST_MODEL_NAME and model:IsA("BasePart") then
                    local detector = model:FindFirstChildOfClass("ClickDetector")
                    
                    if detector and model.CanCollide == false then 
                        -- Hòm đã loot, bỏ qua
                        continue
                    elseif detector and model.CanCollide == true then 
                        -- Hòm chưa loot
                        local distance = (hrp.Position - model.Position).Magnitude
                        
                        if distance < shortestDistance then
                            shortestDistance = distance
                            targetPart = model
                        end
                    end
                end
            end
        end

        if targetPart then
            local detector = targetPart:FindFirstChildOfClass("ClickDetector")
            if detector then
                -- Teleport
                pcall(function()
                    hrp.CFrame = CFrame.new(targetPart.Position + Vector3.new(0, 1.5, 0))
                end)
                
                task.wait(0.1) 
                
                -- Click
                pcall(function()
                    detector:FireServer()
                end)
                
                task.wait(0.4) 
            end
        end
    end
end)


-- ================================================================= --
--                             GIAO DIỆN UI                            --
-- ================================================================= --

pcall(function()
    if LocalPlayer:FindFirstChild("PlayerGui") and LocalPlayer.PlayerGui:FindFirstChild("UniversalHub") then
        LocalPlayer.PlayerGui.UniversalHub:Destroy()
    end
end)

local screenGui = Instance.new("ScreenGui")
screenGui.Name = "UniversalHub"
screenGui.IgnoreGuiInset = true
screenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
screenGui.Parent = LocalPlayer:WaitForChild("PlayerGui")

local mainFrame = Instance.new("Frame")
mainFrame.Size = UDim2.new(0, 480, 0, 380) 
mainFrame.Position = UDim2.new(0.5, -240, 0.5, -190)
mainFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
mainFrame.BorderSizePixel = 0
mainFrame.Active = true
mainFrame.Draggable = true
mainFrame.Parent = screenGui
Instance.new("UICorner", mainFrame).CornerRadius = UDim.new(0, 8)
Instance.new("UIStroke", mainFrame).Color = Color3.fromRGB(0, 255, 170) 

local titleBar = Instance.new("TextLabel", mainFrame)
titleBar.Size = UDim2.new(1, 0, 0, 30)
titleBar.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
titleBar.TextColor3 = Color3.fromRGB(0, 255, 170)
titleBar.Text = "Universal Hub V21.5 - NTBA"
titleBar.Font = Enum.Font.GothamBold
titleBar.TextSize = 16
titleBar.TextXAlignment = Enum.TextXAlignment.Left
titleBar.TextWrapped = true
titleBar.Position = UDim2.new(0,10,0,0)
Instance.new("UICorner", titleBar).CornerRadius = UDim.new(0, 8)

local CloseBtn = Instance.new("TextButton")
CloseBtn.Size = UDim2.new(0,30,0,24) 
CloseBtn.Position = UDim2.new(1,-38,0,3)
CloseBtn.BackgroundColor3 = Color3.fromRGB(180,60,60)
CloseBtn.Text = "X"
CloseBtn.Font = Enum.Font.GothamBold
CloseBtn.TextSize = 13
CloseBtn.TextColor3 = Color3.fromRGB(255,255,255)
CloseBtn.BorderSizePixel = 0
Instance.new("UICorner", CloseBtn).CornerRadius = UDim.new(0,6)
CloseBtn.Parent = titleBar
CloseBtn.MouseButton1Click:Connect(function() 
    screenGui:Destroy() 
end)

local tabFrame = Instance.new("Frame", mainFrame)
tabFrame.Size = UDim2.new(0, 100, 1, -30)
tabFrame.Position = UDim2.new(0, 0, 0, 30)
tabFrame.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
tabFrame.BorderSizePixel = 0
local tabLayout = Instance.new("UIListLayout", tabFrame)
tabLayout.Padding = UDim.new(0, 5)
tabLayout.SortOrder = Enum.SortOrder.LayoutOrder
tabLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
tabLayout.VerticalAlignment = Enum.VerticalAlignment.Top

local tabContent = Instance.new("Frame", mainFrame)
tabContent.Size = UDim2.new(1, -100, 1, -30)
tabContent.Position = UDim2.new(0, 100, 0, 30)
tabContent.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
tabContent.BorderSizePixel = 0

local tabScroller = Instance.new("ScrollingFrame", tabContent)
tabScroller.Size = UDim2.new(1, 0, 1, 0)
tabScroller.Position = UDim2.new(0, 0, 0, 0)
tabScroller.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
tabScroller.BorderSizePixel = 0
tabScroller.ScrollBarThickness = 6
tabScroller.CanvasSize = UDim2.new(0, 0, 0, 0) 

local tabs = {}
local panels = {}
local activeTabName = "Fruit Mix"

-- Xử lý Hotkey
UserInputService.InputBegan:Connect(function(input,gpe)
    if not gpe and input.KeyCode == Hotkey then
        HubVisible = not HubVisible
        screenGui.Enabled = HubVisible
    end
end)

local function createTabButton(tabName)
    local button = Instance.new("TextButton", tabFrame)
    button.Name = tabName
    button.Size = UDim2.new(1, -10, 0, 40)
    button.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
    button.TextColor3 = Color3.fromRGB(150, 150, 150)
    button.Text = tabName
    button.Font = Enum.Font.GothamBold
    button.TextSize = 14
    button.BorderSizePixel = 0
    Instance.new("UICorner", button).CornerRadius = UDim.new(0, 6)
    
    local panel = Instance.new("Frame", tabScroller)
    panel.Name = tabName .. "Panel"
    panel.Size = UDim2.new(1, 0, 1, 0)
    panel.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    panel.BorderSizePixel = 0
    panel.Visible = false
    
    tabs[tabName] = button
    panels[tabName] = panel
    
    return button, panel
end

local function selectTab(tabName)
    if activeTabName == tabName then return end

    local oldTab = tabs[activeTabName]
    local oldPanel = panels[activeTabName]
    if oldTab then
        oldTab.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
        oldTab.TextColor3 = Color3.fromRGB(150, 150, 150)
    end
    if oldPanel then
        oldPanel.Visible = false
    end

    local newTab = tabs[tabName]
    local newPanel = panels[tabName]
    if newTab then
        newTab.BackgroundColor3 = Color3.fromRGB(0, 255, 170)
        newTab.TextColor3 = Color3.fromRGB(30, 30, 30)
    end
    if newPanel then
        newPanel.Visible = true
    end

    activeTabName = tabName
end

local function CreateHub()
    local tabNames = {"Fruit Mix", "Auto Farm", "Auto Haki", "Utility", "Settings"}
    for i, name in ipairs(tabNames) do
        local btn, panel = createTabButton(name)
        btn.LayoutOrder = i
        btn.MouseButton1Click:Connect(function() selectTab(name) end)
    end
    
    selectTab("Fruit Mix")

    -- ================================================================= --
    --                         NỘI DUNG CÁC TAB                            --
    -- ================================================================= --

    -- ------------------------- TAB 1: FRUIT MIX -------------------------
    do
        local p = panels["Fruit Mix"]
        local y = 6
        
        -- TIÊU ĐỀ AUTO DROP
        local label = Instance.new("TextLabel", p)
        label.Size = UDim2.new(1, 0, 0, 24)
        label.Position = UDim2.new(0, 0, 0, y)
        label.BackgroundTransparency = 1
        label.Font = Enum.Font.GothamBold
        label.TextSize = 14
        label.TextColor3 = Color3.fromRGB(0, 255, 170) 
        label.Text = "AUTO DROP ITEMS (FRUIT MIX)"
        y = y + 30

        -- NÚT AUTO DROP ITEM THƯỜNG
        local dropBtn = Instance.new("TextButton", p)
        dropBtn.Size = UDim2.new(0, 200, 0, 32) 
        dropBtn.Position = UDim2.new(0, 10, 0, y)
        dropBtn.Text = "Drop Item Thường: OFF" 
        dropBtn.Font = Enum.Font.GothamBold
        dropBtn.TextSize = 13
        dropBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
        dropBtn.BackgroundColor3 = Color3.fromRGB(50, 50, 150) 
        dropBtn.BackgroundTransparency = 0.15
        dropBtn.BorderSizePixel = 0
        Instance.new("UICorner", dropBtn).CornerRadius = UDim.new(0, 6)
        
        dropBtn.MouseButton1Click:Connect(function()
            AutoDropItem = not AutoDropItem
            dropBtn.Text = "Drop Item Thường: " .. (AutoDropItem and "ON" or "OFF")
            dropBtn.BackgroundColor3 = AutoDropItem and Color3.fromRGB(0, 170, 255) or Color3.fromRGB(50, 50, 150)
            dropBtn.BackgroundTransparency = AutoDropItem and 0.1 or 0.15
        end)
        y = y + 40
        
        -- NÚT AUTO DROP ITEM PLUS (+)
        local dropPlusBtn = Instance.new("TextButton", p)
        dropPlusBtn.Size = UDim2.new(0, 200, 0, 32) 
        dropPlusBtn.Position = UDim2.new(0, 10, 0, y)
        dropPlusBtn.Text = "Drop Item Plus (+): OFF" 
        dropPlusBtn.Font = Enum.Font.GothamBold
        dropPlusBtn.TextSize = 13
        dropPlusBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
        dropPlusBtn.BackgroundColor3 = Color3.fromRGB(50, 150, 150) 
        dropPlusBtn.BackgroundTransparency = 0.15
        dropPlusBtn.BorderSizePixel = 0
        Instance.new("UICorner", dropPlusBtn).CornerRadius = UDim.new(0, 6)
        
        dropPlusBtn.MouseButton1Click:Connect(function()
            AutoDropItemPlus = not AutoDropItemPlus
            dropPlusBtn.Text = "Drop Item Plus (+): " .. (AutoDropItemPlus and "ON" or "OFF")
            dropPlusBtn.BackgroundColor3 = AutoDropItemPlus and Color3.fromRGB(0, 200, 150) or Color3.fromRGB(50, 150, 150)
            dropPlusBtn.BackgroundTransparency = AutoDropItemPlus and 0.1 or 0.15
        end)
        y = y + 42
        
        -- TIÊU ĐỀ AUTO CHEST
        local label2 = Instance.new("TextLabel", p)
        label2.Size = UDim2.new(1, 0, 0, 24)
        label2.Position = UDim2.new(0, 0, 0, y)
        label2.BackgroundTransparency = 1
        label2.Font = Enum.Font.GothamBold
        label2.TextSize = 14
        label2.TextColor3 = Color3.fromRGB(0, 255, 170) 
        label2.Text = "AUTO CHEST LOOT (TELEPORT)"
        y = y + 30
        
        -- NÚT AUTO FRUIT MIX (COLLECT CHEST)
        local collectBtn = Instance.new("TextButton", p)
        collectBtn.Size = UDim2.new(0, 280, 0, 32) 
        collectBtn.Position = UDim2.new(0, 10, 0, y)
        collectBtn.Text = "Auto Fruit Mix (Loot Chests): OFF" 
        collectBtn.Font = Enum.Font.GothamBold
        collectBtn.TextSize = 13
        collectBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
        collectBtn.BackgroundColor3 = Color3.fromRGB(150, 150, 50) 
        collectBtn.BackgroundTransparency = 0.15
        collectBtn.BorderSizePixel = 0
        Instance.new("UICorner", collectBtn).CornerRadius = UDim.new(0, 6)
        
        collectBtn.MouseButton1Click:Connect(function()
            AutoCollectChestState = not AutoCollectChestState
            collectBtn.Text = "Auto Fruit Mix (Loot Chests): " .. (AutoCollectChestState and "ON" or "OFF")
            collectBtn.BackgroundColor3 = AutoCollectChestState and Color3.fromRGB(255, 170, 0) or Color3.fromRGB(150, 150, 50)
            collectBtn.BackgroundTransparency = AutoCollectChestState and 0.1 or 0.15
        end)
        y = y + 42
    end
    
    -- ------------------------- TAB 2: AUTO FARM -------------------------
    do 
        local p = panels["Auto Farm"] 
        local y = 6
        local label = Instance.new("TextLabel", p)
        label.Size = UDim2.new(1, 0, 0, 24)
        label.Position = UDim2.new(0, 0, 0, y)
        label.BackgroundTransparency = 1
        label.Font = Enum.Font.GothamBold
        label.TextSize = 14
        label.TextColor3 = Color3.fromRGB(255, 170, 0)
        label.Text = "AUTO SKILLS (Z, X, C, V)"
        y = y + 30
        
        local x_start = 10
        local spacing = 15
        local btn_w = 70
        
        for i,key in ipairs({"Z","X","C","V"}) do
            local btn=Instance.new("TextButton",p)
            btn.Size=UDim2.new(0,btn_w,0,32) 
            btn.Position=UDim2.new(0,x_start+(i-1)*(btn_w+spacing),0,y)
            btn.Text=key.." OFF"
            btn.Font = Enum.Font.GothamBold
            btn.TextSize = 14
            btn.TextColor3 = Color3.fromRGB(230,230,230)
            btn.BackgroundColor3 = Color3.fromRGB(60,60,62)
            btn.BackgroundTransparency = 0.15
            btn.BorderSizePixel = 0
            Instance.new("UICorner",btn).CornerRadius = UDim.new(0,6)
            btn.MouseButton1Click:Connect(function()
                AutoSkillState[key]=not AutoSkillState[key]
                btn.Text=key..(AutoSkillState[key] and " ON" or " OFF")
                btn.BackgroundColor3=AutoSkillState[key] and Color3.fromRGB(0,170,255) or Color3.fromRGB(60,60,62)
                btn.BackgroundTransparency=AutoSkillState[key] and 0.1 or 0.15
            end)
        end
        y = y + 42
        
        local label2 = Instance.new("TextLabel", p)
        label2.Size = UDim2.new(1, 0, 0, 24)
        label2.Position = UDim2.new(0, 0, 0, y)
        label2.BackgroundTransparency = 1
        label2.Font = Enum.Font.GothamBold
        label2.TextSize = 14
        label2.TextColor3 = Color3.fromRGB(255, 170, 0)
        label2.Text = "AUTO FARM NPC (TP Kích hoạt)"
        y = y + 30
        
        local masterBtn = Instance.new("TextButton", p)
        masterBtn.Size = UDim2.new(0, 200, 0, 32) 
        masterBtn.Position = UDim2.new(0, 10, 0, y)
        masterBtn.Text = "Auto Farm NPC: OFF"
        masterBtn.Font = Enum.Font.GothamBold
        masterBtn.TextSize = 14
        masterBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
        masterBtn.BackgroundColor3 = Color3.fromRGB(150, 50, 50) 
        masterBtn.BackgroundTransparency = 0.15
        masterBtn.BorderSizePixel = 0
        Instance.new("UICorner", masterBtn).CornerRadius = UDim.new(0, 6)
    
        masterBtn.MouseButton1Click:Connect(function()
            AutoFarmNPC = not AutoFarmNPC
            masterBtn.Text = "Auto Farm NPC: " .. (AutoFarmNPC and "ON" or "OFF")
            masterBtn.BackgroundColor3 = AutoFarmNPC and Color3.fromRGB(0, 150, 255) or Color3.fromRGB(150, 50, 50)
            masterBtn.BackgroundTransparency = AutoFarmNPC and 0.1 or 0.15
        end)
        y = y + 42
        
        -- Logic Auto Farm NPC (Chưa hoàn thiện phần tìm kiếm và tấn công)
        task.spawn(function()
            local findAndFarmNPC = function()
                -- (Nơi code tìm NPC và Teleport + Spam skill sẽ nằm ở đây nếu hoàn thiện)
                -- Tạm thời chỉ là logic spam skill cơ bản
                if AutoFarmNPC and LocalPlayer.Character and LocalPlayer.Character:FindFirstChildOfClass("Humanoid").Health > 0 then
                    for i = 1, 3 do 
                        for key, enabled in pairs(AutoSkillState) do
                            if enabled then
                                pcall(function()
                                    VirtualInputManager:SendKeyEvent(true, key, false, game)
                                    task.wait(0.04)
                                    VirtualInputManager:SendKeyEvent(false, key, false, game)
                                end)
                            end
                        end
                        task.wait(0.3)
                    end
                end
            end
            while true do
                if AutoFarmNPC then findAndFarmNPC() end
                task.wait(0.5) 
            end
        end)
    end
    
    -- ------------------------- TAB 3: AUTO HAKI -------------------------
    do
        local p = panels["Auto Haki"] 
        local lbl=Instance.new("TextLabel",p)
        lbl.Size=UDim2.new(1,0,0,24)
        lbl.Position=UDim2.new(0,0,0,6)
        lbl.BackgroundTransparency=1
        lbl.Font = Enum.Font.GothamBold
        lbl.TextSize = 14
        lbl.TextColor3 = Color3.fromRGB(220,220,220)
        lbl.Text="AUTO HAKI (Giữ R, chu kỳ 6s/1s)" 
        
        local btn=Instance.new("TextButton",p)
        btn.Size=UDim2.new(0,140,0,32) 
        btn.Position=UDim2.new(0,10,0,40)
        btn.Text="R OFF"
        btn.Font = Enum.Font.GothamBold
        btn.TextSize = 14
        btn.TextColor3 = Color3.fromRGB(230,230,230)
        btn.BackgroundColor3 = Color3.fromRGB(60,60,62)
        btn.BackgroundTransparency = 0.15
        btn.BorderSizePixel = 0
        Instance.new("UICorner",btn).CornerRadius=UDim.new(0,6)
        btn.MouseButton1Click:Connect(function()
            AutoHakiState=not AutoHakiState
            btn.Text="R "..(AutoHakiState and "ON" or "OFF")
            btn.BackgroundColor3=AutoHakiState and Color3.fromRGB(0,170,255) or Color3.fromRGB(60,60,62)
            btn.BackgroundTransparency=AutoHakiState and 0.1 or 0.15
        end)
    end

    -- ------------------------- TAB 4: UTILITY -------------------------
    do
        local p = panels["Utility"]
        local y = 6
        local label = Instance.new("TextLabel", p)
        label.Size = UDim2.new(1, 0, 0, 24)
        label.Position = UDim2.new(0, 0, 0, y)
        label.BackgroundTransparency = 1
        label.Font = Enum.Font.GothamBold
        label.TextSize = 14
        label.TextColor3 = Color3.fromRGB(255, 170, 0)
        label.Text = "TELEPORT (TP)"
        y = y + 30
        
        local info = Instance.new("TextLabel", p)
        info.Size = UDim2.new(1, 0, 0, 20)
        info.Position = UDim2.new(0, 0, 0, y)
        info.BackgroundTransparency = 1
        info.Font = Enum.Font.Gotham
        info.TextSize = 12
        info.TextColor3 = Color3.fromRGB(255, 255, 255)
        info.Text = "Tính năng TP nhanh (Đảo, Boss) sẽ được thêm vào đây."
        y = y + 25
    end

    -- ------------------------- TAB 5: SETTINGS -------------------------
    do
        local p = panels["Settings"]
        local y = 6
        local label = Instance.new("TextLabel", p)
        label.Size = UDim2.new(1, 0, 0, 24)
        label.Position = UDim2.new(0, 0, 0, y)
        label.BackgroundTransparency = 1
        label.Font = Enum.Font.GothamBold
        label.TextSize = 14
        label.TextColor3 = Color3.fromRGB(255, 255, 255)
        label.Text = "SETTINGS & EXPLOITS"
        y = y + 30
        
        -- NÚT GOD MODE
        local godBtn = Instance.new("TextButton", p)
        godBtn.Size = UDim2.new(0, 180, 0, 32) 
        godBtn.Position = UDim2.new(0, 10, 0, y)
        godBtn.Text = "God Mode: OFF" 
        godBtn.Font = Enum.Font.GothamBold
        godBtn.TextSize = 13
        godBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
        godBtn.BackgroundColor3 = Color3.fromRGB(180, 50, 50) 
        godBtn.BackgroundTransparency = 0.15
        godBtn.BorderSizePixel = 0
        Instance.new("UICorner", godBtn).CornerRadius = UDim.new(0, 6)
        
        godBtn.MouseButton1Click:Connect(function()
            GodModeState = not GodModeState
            godBtn.Text = "God Mode: " .. (GodModeState and "ON" or "OFF")
            godBtn.BackgroundColor3 = GodModeState and Color3.fromRGB(0, 255, 170) or Color3.fromRGB(180, 50, 50)
            godBtn.BackgroundTransparency = GodModeState and 0.1 or 0.15
        end)
        y = y + 42
        
        local info = Instance.new("TextLabel", p)
        info.Size = UDim2.new(1, 0, 0, 20)
        info.Position = UDim2.new(0, 0, 0, y)
        info.BackgroundTransparency = 1
        info.Font = Enum.Font.Gotham
        info.TextSize = 12
        info.TextColor3 = Color3.fromRGB(255, 170, 170)
        info.Text = "Hotkey ẩn/hiện Hub: Right Control"
    end
end

CreateHub()
